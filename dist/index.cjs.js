"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("react"),t=require("axios");function e(r){return r&&"object"==typeof r&&"default"in r?r:{default:r}}var n=e(r),o=e(t);function i(r,t,e,n,o,i,u){try{var a=r[i](u),c=a.value}catch(r){return void e(r)}a.done?t(c):Promise.resolve(c).then(n,o)}function u(r){return function(){var t=this,e=arguments;return new Promise((function(n,o){var u=r.apply(t,e);function a(r){i(u,n,o,a,c,"next",r)}function c(r){i(u,n,o,a,c,"throw",r)}a(void 0)}))}}function a(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function c(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function l(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,o,i=[],u=!0,a=!1;try{for(e=e.call(r);!(u=(n=e.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(r){a=!0,o=r}finally{try{u||null==e.return||e.return()}finally{if(a)throw o}}return i}}(r,t)||function(r,t){if(r){if("string"==typeof r)return c(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(r,t):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=Object.prototype,f=s.hasOwnProperty,h="function"==typeof Symbol?Symbol:{},p=h.iterator||"@@iterator",m=h.asyncIterator||"@@asyncIterator",y=h.toStringTag||"@@toStringTag";function v(r,t,e,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),u=new A(n||[]);return i._invoke=function(r,t,e){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return B()}for(e.method=o,e.arg=i;;){var u=e.delegate;if(u){var a=x(u,e);if(a){if(a===d)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var c=b(r,t,e);if("normal"===c.type){if(n=e.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(n="completed",e.method="throw",e.arg=c.arg)}}}(r,e,u),i}function b(r,t,e){try{return{type:"normal",arg:r.call(t,e)}}catch(r){return{type:"throw",arg:r}}}var d={};function g(){}function w(){}function O(){}var E={};E[p]=function(){return this};var j=Object.getPrototypeOf,S=j&&j(j(V([])));S&&S!==s&&f.call(S,p)&&(E=S);var L=O.prototype=g.prototype=Object.create(E);function P(r){["next","throw","return"].forEach((function(t){r[t]=function(r){return this._invoke(t,r)}}))}function k(r){var t="function"==typeof r&&r.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))}function N(r,t){function e(n,o,i,u){var a=b(r[n],r,o);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&f.call(l,"__await")?t.resolve(l.__await).then((function(r){e("next",r,i,u)}),(function(r){e("throw",r,i,u)})):t.resolve(l).then((function(r){c.value=r,i(c)}),(function(r){return e("throw",r,i,u)}))}u(a.arg)}var n;this._invoke=function(r,o){function i(){return new t((function(t,n){e(r,o,t,n)}))}return n=n?n.then(i,i):i()}}function x(r,t){var e=r.iterator[t.method];if(undefined===e){if(t.delegate=null,"throw"===t.method){if(r.iterator.return&&(t.method="return",t.arg=undefined,x(r,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=b(e,r.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[r.resultName]=o.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=undefined),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(r){var t={tryLoc:r[0]};1 in r&&(t.catchLoc=r[1]),2 in r&&(t.finallyLoc=r[2],t.afterLoc=r[3]),this.tryEntries.push(t)}function D(r){var t=r.completion||{};t.type="normal",delete t.arg,r.completion=t}function A(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(T,this),this.reset(!0)}function V(r){if(r){var t=r[p];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var e=-1,n=function t(){for(;++e<r.length;)if(f.call(r,e))return t.value=r[e],t.done=!1,t;return t.value=undefined,t.done=!0,t};return n.next=n}}return{next:B}}function B(){return{value:undefined,done:!0}}w.prototype=L.constructor=O,O.constructor=w,O[y]=w.displayName="GeneratorFunction",P(N.prototype),N.prototype[m]=function(){return this},P(L),L[y]="Generator",L[p]=function(){return this},L.toString=function(){return"[object Generator]"},A.prototype={constructor:A,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(D),!r)for(var t in this)"t"===t.charAt(0)&&f.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=undefined)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function e(e,n){return i.type="throw",i.arg=r,t.next=e,n&&(t.method="next",t.arg=undefined),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var u=f.call(o,"catchLoc"),a=f.call(o,"finallyLoc");if(u&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(r,t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&f.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===r||"continue"===r)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=r,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(r,t){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&t&&(this.next=t),d},finish:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===r)return this.complete(e.completion,e.afterLoc),D(e),d}},catch:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===r){var n=e.completion;if("throw"===n.type){var o=n.arg;D(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,e){return this.delegate={iterator:V(r),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=undefined),d}};var C={wrap:v,isGeneratorFunction:k,AsyncIterator:N,mark:function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,O):(r.__proto__=O,y in r||(r[y]="GeneratorFunction")),r.prototype=Object.create(L),r},awrap:function(r){return{__await:r}},async:function(r,t,e,n,o){void 0===o&&(o=Promise);var i=new N(v(r,t,e,n),o);return k(t)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},keys:function(r){var t=[];for(var e in r)t.push(e);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},values:V},_={formName:"form",formValidatorsRules:{minLength:{limit:0,liveEnable:!0,showLiveErrorAfterFirstSubmit:!1,shouldLockNotValidWrite:!1,showErrorTimeout:0,hideErrorTimeout:null},maxLength:{limit:100,liveEnable:!0,showLiveErrorAfterFirstSubmit:!1,shouldLockNotValidWrite:!0,showErrorTimeout:0,hideErrorTimeout:null},minValue:{limit:0,liveEnable:!0,showLiveErrorAfterFirstSubmit:!1,shouldLockNotValidWrite:!1,showErrorTimeout:0,hideErrorTimeout:null},maxValue:{limit:1e3,liveEnable:!0,showLiveErrorAfterFirstSubmit:!1,shouldLockNotValidWrite:!1,showErrorTimeout:0,hideErrorTimeout:null},required:{liveEnable:!0,showLiveErrorAfterFirstSubmit:!1,shouldLockNotValidWrite:!1,showErrorTimeout:0,hideErrorTimeout:null},number:{liveEnable:!0,showLiveErrorAfterFirstSubmit:!1,shouldLockNotValidWrite:!0,showErrorTimeout:0,hideErrorTimeout:null},email:{liveEnable:!1,showLiveErrorAfterFirstSubmit:!1,shouldLockNotValidWrite:!1,showErrorTimeout:0,hideErrorTimeout:null}}};function I(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function F(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?I(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):I(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}var R=function(r,t){var e=F({},r);return Object.keys(e).forEach((function(n){var o=r[n],i=t?t[n]:{};e[n]=F(F({},o),i)})),e};var W={exports:{}};!function(r){function t(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(r.exports=t=function(r){return typeof r},r.exports.default=r.exports,r.exports.__esModule=!0):(r.exports=t=function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},r.exports.default=r.exports,r.exports.__esModule=!0),t(e)}r.exports=t,r.exports.default=r.exports,r.exports.__esModule=!0}(W);var q=function(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}(W.exports),G=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.limit,n=void 0===e?null:e,o="string"==typeof n?Number(n):n,i=!Array.isArray(r)&&!["string","number"].includes(q(r)),u="number"!=typeof o&&null!==o||null!==o&&isNaN(o),a=Array.isArray(r)?r.length:String(r).length,c="number"==typeof o&&a<o;if(u)throw new TypeError("limit value must be only number or number in string like '1'");if(i)throw new TypeError("written value must be only string, number or array");return c},M=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.limit,n=void 0===e?null:e,o="string"==typeof n?Number(n):n,i=!Array.isArray(r)&&!["string","number"].includes(q(r)),u="number"!=typeof o&&null!==o||null!==o&&isNaN(o),a=Array.isArray(r)?r.length:String(r).length,c="number"==typeof o&&a>o;if(u)throw new TypeError("limit value must be only number or number in string like '1'");if(i)throw new TypeError("written value must be only string, number or array");return c},$=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.limit,n=void 0===e?null:e,o="string"==typeof n?Number(n):n,i=isNaN(Number(r))||null===r,u="number"!=typeof o&&null!==o||null!==o&&isNaN(o),a="number"==typeof o&&Number(r)>o;if(u)throw new TypeError("limit value must be only number or number in string like '1'");if(i)throw new TypeError("written value can be only number");return a},z=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.limit,n=void 0===e?null:e,o="string"==typeof n?Number(n):n,i=isNaN(Number(r))||null===r,u="number"!=typeof o&&null!==o||null!==o&&isNaN(o),a="number"==typeof o&&Number(r)<o;if(u)throw new TypeError("limit value must be only number or number in string like '1'");if(i)throw new TypeError("written value can be only number");return a},Z=function(r){var t=!Array.isArray(r)&&!["string","number"].includes(q(r)),e=0===(Array.isArray(r)?r.length:String(r).length);if(t)throw new TypeError("written value can be only string or number");return e},Y=function(r,t){Object.keys(r).forEach((function(e){var n=t[e];n&&(r[e]=n)}))},U=function(r){return!0===r.liveEnable};function H(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function J(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?H(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):H(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}var K=function(r){var t=r.currentControl,e=r.newValue,n=t.validateRules||{},o=n.minValue,i=n.maxValue,u=n.minLength,a=n.maxLength,c=n.required,l=n.number,s=n.email,f={hasError:!1,hasErrorLockingSubmitBtn:!1,shouldLockNotValidWrite:!1,message:null,limit:null,showLiveErrorAfterFirstSubmit:!1,hideErrorTimeout:null,showErrorTimeout:null};if("string"==typeof e||"number"==typeof e){var h=l||{};h.dot,h.negative;var p=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=!["string","number"].includes(q(r))||null===r;r=String(r);var n=t||{},o=n.shouldLockNegativeNumber,i=void 0!==o&&o,u=n.shouldLockFloatNumber,a=void 0!==u&&u,c=n.allowableSymbols,l=void 0===c?[]:c,s=n.customRegExp,f=void 0===s?null:s,h=n.isLiveValidator,p=void 0!==h&&h,m=l.includes("-")?l.join("").replace(/-/g,"\\-"):l.join(""),y="".concat(m,"0-9"),v=new RegExp("^[-]?([".concat(y,"]+)?[.]?([").concat(y,"]+)?$")),b=(p?["-.",".",".-"]:["-.",".",".-","-"]).includes(r),d=!0;if(r){var g=v;i&&(g=a?new RegExp("^[".concat(y,"]+$")):new RegExp("^([".concat(y,"]+)?[.]?([").concat(y,"]+)?$"))),a&&(g=i?new RegExp("^[".concat(y,"]+$")):new RegExp("^[-]?([".concat(y,"]+)?$"))),d=g.test(r),b&&(d=!1),f&&(d=f.test(r))}if(e)throw new TypeError("written value can be only number or string");return d}(e,{shouldLockFloatNumber:!0,shouldLockNegativeNumber:!1}),m=!p,y=!Z(e),v=!0;if(console.log(p),y){if(p&&z(e,o)&&U(o)){var b=o.shouldLockSubmitBtnWhenControlInvalid;Y(f,J(J({},o),{},{hasErrorLockingSubmitBtn:b,hasError:v}))}if(p&&$(e,i)&&U(i)){var d=i.shouldLockSubmitBtnWhenControlInvalid;Y(f,J(J({},i),{},{hasErrorLockingSubmitBtn:d,hasError:v}))}if(G(e,u)&&U(u)){var g=u.shouldLockSubmitBtnWhenControlInvalid;Y(f,J(J({},u),{},{hasErrorLockingSubmitBtn:g,hasError:v}))}if(M(e,a)&&U(a)){var w=a.shouldLockSubmitBtnWhenControlInvalid;Y(f,J(J({},a),{},{hasErrorLockingSubmitBtn:w,hasError:v}))}if(s&&function(r){var t=!["string","number"].includes(q(r)),e=!/.+@.+\..+/i.test(String(r));if(t)throw new TypeError("written value can be only string or number");return e}(e)&&U(s)){var O=s.shouldLockSubmitBtnWhenControlInvalid;Y(f,J(J({},s),{},{hasErrorLockingSubmitBtn:O,hasError:v}))}}if(c&&Z(e)&&U(c)){var E=c.shouldLockSubmitBtnWhenControlInvalid;Y(f,J(J({},c),{},{hasErrorLockingSubmitBtn:E,hasError:v}))}if(l&&m){var j=l.shouldLockSubmitBtnWhenControlInvalid;Y(f,J(J({},l),{},{hasErrorLockingSubmitBtn:j,hasError:v}))}}return{errorData:f}};function Q(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function X(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Q(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}var rr=function(r){var t=r.currentControl,e=r.newValue,n=t.validateRules||{},o=n.required,i=n.minValue,u=n.maxValue,a=n.minLength,c=n.maxLength,l={hasError:!1,hasErrorLockingSubmitBtn:!1,shouldLockNotValidWrite:!1,message:null,limit:null,showLiveErrorAfterFirstSubmit:null,hideErrorTimeout:null,showErrorTimeout:null},s=Array.isArray(e)?function(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.reduce((function(r,e){return t&&isNaN(+e)?+r:+r+ +e}),0)}(e):null,f=!isNaN(s),h=!0;if(o&&Z(e)&&U(o)){var p=o.shouldLockSubmitBtnWhenControlInvalid;Y(l,X(X({},o),{},{hasError:h,hasErrorLockingSubmitBtn:p}))}if(i&&f&&z(s,i)&&U(i)){var m=i.shouldLockSubmitBtnWhenControlInvalid;Y(l,X(X({},i),{},{hasError:h,hasErrorLockingSubmitBtn:m}))}if(u&&f&&$(s,u)&&U(u)){var y=u.shouldLockSubmitBtnWhenControlInvalid;Y(l,X(X({},u),{},{hasError:h,hasErrorLockingSubmitBtn:y}))}if(a&&G(e,a)&&U(a)){var v=a.shouldLockSubmitBtnWhenControlInvalid;Y(l,X(X({},a),{},{hasError:h,hasErrorLockingSubmitBtn:v}))}if(c&&M(e,c)&&U(c)){var b=c.shouldLockSubmitBtnWhenControlInvalid;Y(l,X(X({},c),{},{hasError:h,hasErrorLockingSubmitBtn:b}))}return{errorData:l}};function tr(r,t){var e;return function(){for(var n=this,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];var a=function(){r.apply(n,i)};return clearTimeout(e),e=setTimeout(a,t)}}var er=function(r,t){r((function(r){var e=t.controlName;r.controls[e].hasError=!1}))};function nr(r,t){if(r=+r,2===t.length&&t.push(t[1]),isNaN(r))throw new Error("type of quantity expect only number");return t[r%100>4&&r%100<20?2:[2,0,1,1,1,2][r%10<5?r%10:5]]}var or=function(r,t){var e=t.limit;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,e=!("string"==typeof r||"number"==typeof r||null===r);if(null===r)return"";if(e)throw new Error("message for replace has invalid type");var n=r;return n&&t.forEach((function(t){var e=t.searchLayout,o=t.valueToReplace,i=t.shouldClearSearchLayoutIfReplaceValueIsArray,u=void 0===i||i;if(null===o)return"";var a=new RegExp("".concat(e,"['[a-zA-Zа-яА-я]+', '[a-zA-Zа-яА-я]+'(, '[a-zA-Zа-яА-я]+')?]"),"g");if(a.test(n))n=n.replace(a,(function(r){var t=r.replace(new RegExp(e),"").replace(/[\[\]'"]/g,"").split(", "),n=isNaN(+o)?null:nr(+o,t);return isNaN(+o)?o.toString():"".concat(o," ").concat(n)}));else{var c=u?"":o.toString(),l=Array.isArray(o)?c:String(o),s=""===l&&new RegExp(e+" ","g").test(r)?e+" ":e;n=n.replace(new RegExp(s,"g"),l)}})),n}(r,[{searchLayout:"{limit}",valueToReplace:e},{searchLayout:"limitForDecline",valueToReplace:e},{searchLayout:"{label}",valueToReplace:t.controlLabel},{searchLayout:"{writeValue}",valueToReplace:t.writeToControlValue}])},ir=function(r,t,e,n){var o=t.controlName,i=t.newValue,u=e.controls[o],a=u.label,c=r||{},l=c.message,s=void 0===l?null:l,f=c.limit,h=void 0===f?null:f,p=c.hideErrorTimeout,m=void 0===p?null:p,y=u.beforeLiveValidatorError||e.formSettings.beforeLiveValidatorError||null,v=u.afterLiveValidatorError||e.formSettings.afterLiveValidatorError||null;if("function"==typeof y&&y(t),r&&(u.error=or(s,{limit:h,controlLabel:a,writeToControlValue:i})),u.hasError=!0,m){var b=function(r,t,e){return tr(er,e)(t,r)}(t,n,m);u._hideErrorTimeoutId=b}"function"==typeof v&&v(t)};function ur(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function ar(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ur(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}var cr=function(r,t,e,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=Boolean(i),a=u?function(){return n((function(e){var o=ar({},e);return ir(r,t,o,n),o}))}:function(){return ir(r,t,e,n)},c=tr(a,i),l=r.hasError,s=null;return u?l?(o&&clearTimeout(o),s=c()):o&&clearTimeout(o):l&&a(),s},lr=function(r,t,e){var n=r(t,e.errorDataForControl),o=n.errorData,i=void 0===o?null:o,u=n.modifiedValueToWrite,a=void 0===u?null:u,c=i||{},l=c.shouldLockNotValidWrite,s=void 0!==l&&l,f=c.hasError,h=void 0!==f&&f,p=c.hasErrorLockingSubmitBtn,m=void 0!==p&&p;s&&(e.isWriteInputEnable=!1),h&&(e.hasAnyError=!0),m&&(e.hasAnyLockingSubmitBtnError=!0),a&&(e.writeToControlValue=a),i&&(e.errorDataForControl=i)};function sr(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}var fr=function(r,t,e){var n=(0,r.liveSearch.request)(t),i=n.url,u=n.method,c=void 0===u?"get":u,l=n.data,s=void 0===l?{}:l;i&&(r.liveSearch.isLoading=!0,o.default({method:c,url:i,data:s}).then((function(r){var n=t.controlName;e((function(e){var o=function(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):sr(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}({},e),i=o.controls[n];i.liveSearch.isLoading=!1;var u=i.liveSearch.response(t,r);return i.liveSearch.foundedData=u||r,o}))})))};function hr(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}var pr=function(r,t,e){var n=r.liveSearch,o=r._liveSearchRequestTimeoutId,i=n.debounceTime,u=void 0===i?0:i,c=u?function(){return e((function(n){var o=function(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):hr(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}({},n);return fr(r,t,e),o}))}:function(){fr(r,t,e)};u?(o&&clearTimeout(o),r._liveSearchRequestTimeoutId=tr(c,u)()):c()},mr=function(r,t,e,n,o){var i=r.type,u=r._hideErrorTimeoutId,a=void 0===u?null:u,c=r._showErrorTimeoutId,l=r.liveSearch,s=["phone","number","text","password","date"].includes(i)?K:rr,f=r.customLiveValidator||s,h=r.additionalLiveValidator||null,p=e.newValue,m=t.formState.isFormTriedSubmit,y="function"==typeof h,v={writeToControlValue:p,errorDataForControl:null,hasAnyError:!1,isWriteInputEnable:!0,hasAnyLockingSubmitBtnError:!1};"function"==typeof f&&lr(f,e,v),y&&lr(h,e,v);var b=v.errorDataForControl,d=v.hasAnyError,g=v.hasAnyLockingSubmitBtnError,w=v.writeToControlValue,O=v.isWriteInputEnable,E=b||{},j=E.showLiveErrorAfterFirstSubmit,S=void 0!==j&&j,L=E.showErrorTimeout,P=void 0===L?0:L,k=!S;O&&(r.value=w,l&&pr(r,e,o)),d||(r.hasError=!1,a&&r._hideErrorTimeoutId&&clearTimeout(r._hideErrorTimeoutId)),r.hasErrorLockingSubmitBtn=g,(S&&m||k)&&(r._showErrorTimeoutId=cr(b,e,t,o,c,P))};function yr(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function vr(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):yr(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}var br=function(r,t,e){var n=arguments.length>4?arguments[4]:void 0;e((function(o){var i=vr({},o),u=i.controls[t],a={currentControl:u,controlName:t,newValue:r,form:i,selectedValue:n},c=u.beforeChange||null,l=u.afterChange||null;"function"==typeof c&&c(a),mr(u,i,a,0,e),"function"==typeof l&&l(a);var s=!1,f=i.controls;return Object.keys(f).forEach((function(r){f[r].hasErrorLockingSubmitBtn&&(s=!0)})),i.formState.isSubmitBtnLocked=s,i}))};function dr(r){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function gr(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function wr(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):gr(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}var Or=function(r,t,e){var n,o,i,u=r.currentControl,a=r.controlName,c=u.type,l=void 0===c?null:c;if(u.value,l){!function(r){var t=r.currentControl,e=r.controlName,n=r.formName;t.type,t.error="",t.hasError=!1,t.hasErrorLockingSubmitBtn=!1,t.controlName=e,t.inputName="".concat(n,"[").concat(e,"]"),t.value||(t.value="")}(r),n=u,o=t.formSettings.formValidatorsRules,i=n.validateRules||{},Object.keys(o).forEach((function(r){var t=i[r],e=o[r],n="boolean"==typeof t;"object"===dr(t)?i[r]=wr(wr({},e),t):n&&(i[r]=wr({},e))})),u.setValue=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return br(r,a,e,t,n)};var s=function(r,t){var e=r.currentControl,n=r.controlName,o=e.type,i=["phone","number","text","password","date"].includes(o)?K:rr;return(e.customLiveValidator||i)({form:t,currentControl:e,controlName:n,newValue:e.value}).errorData.hasErrorLockingSubmitBtn}(r,t);console.log(s,a),u.hasErrorLockingSubmitBtn=s,!1===t.formState.isSubmitBtnLocked&&s&&(t.formState.isSubmitBtnLocked=!0)}else console.error("type is require control prop");return!0},Er=function(r,t,e){!function(r,t,e){var n=r.controls,o=!0;Object.keys(n).forEach((function(i){var u,a={currentControl:n[i],controlName:i,formName:(null===(u=r.formSettings)||void 0===u?void 0:u.formName)||""};!0!==t(a,r,e)&&(o=!1)}))}(r,Or,e)};function jr(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function Sr(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):jr(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}var Lr=function(){var r=u(C.mark((function r(t){return C.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t((function(r){var e=Sr({},r);e.formState.isFormTriedSubmit=!0;var n=e.formSettings,i=n.action,u=void 0===i?null:i,a=(0,n.beforeRequest)(e).body;return u&&o.default.post(u,a).then((function(r){r.status,t((function(t){var e=Sr({},t),n=e.formSettings.afterSubmit,o=void 0===n?null:n;return"function"==typeof o&&o(r,e),e}))})).catch((function(r){r.status,t((function(t){var e=Sr({},t),n=e.formSettings.afterSubmit,o=void 0===n?null:n;return"function"==typeof o&&o(r,e),e}))})),e}));case 1:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}();function Pr(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function kr(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(e),!0).forEach((function(t){a(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Pr(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}exports.FlakyForm=function(r){var t=r.children,e=r.className,o=void 0===e?"form":e,i=r.id,u=void 0===i?null:i;r.action;var a=r.formState,c=r.setForm;a.formState.loaded;var l=a.formSettings.formName;return n.default.createElement("form",{id:u||String(l),className:o,onSubmit:function(r){r.preventDefault(),Lr(c)}},t,n.default.createElement("input",{"data-element":"hidden-submit-trigger",type:"submit",style:{opacity:0,width:0,height:0,position:"absolute",zIndex:-1}}))},exports.useFlakyForm=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={loaded:!1,isSubmitBtnLocked:!1,isFormTriedSubmit:!1},o=R(_.formValidatorsRules,e.formValidatorsRules),i=r.useState({controls:t,formState:n,formSettings:kr(kr(kr({},_),{},{formName:"form"},e),{},{formValidatorsRules:o})}),a=l(i,2),c=a[0],s=a[1];return r.useEffect((function(){var r;(r=u(C.mark((function r(){return C.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s((function(r){var t=kr({},r);return Er(t,0,s),t}));case 1:case"end":return r.stop()}}),r)}))),function(){return r.apply(this,arguments)})()}),[]),[c,s]};
